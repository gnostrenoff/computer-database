import java.sql.Timestamp;
import java.util.Date;
import java.util.List;
import java.util.Scanner;

import dao.CompanyDao;
import dao.ComputerDao;
import dao.DaoFactory;
import model.Company;
import model.Computer;

public class Listener {

	public static void main(String[] args) {
		
		DaoFactory daoFactory = DaoFactory.getInstance();
		ComputerDao computerDao = daoFactory.getComputerDao();
		CompanyDao companyDao = daoFactory.getCompanyDao();
		
		Scanner scanIn = new Scanner(System.in);
		int input;
		boolean exit = false;
		
		System.out.println("what do you want to do ?\n");
		System.out.println("\t 1 - list all companies\n");
		System.out.println("\t 2 - list all computers\n");
		System.out.println("\t 3 - create computer\n");
		System.out.println("\t 4 - read detail computer\n");
		System.out.println("\t 5 - update computer\n");
		System.out.println("\t 6 - delete computer\n");
		System.out.println("\t 7 - exit\n");
		
		while(!exit){
			input = scanIn.nextInt();
		    
		    switch(input){
			    case 1:
			    	List<Company> companiesList = companyDao.getCompanies();
					for(int i = 0; i < companiesList.size(); i++){
						Company comp = companiesList.get(i);
						System.out.println(comp.toString());
					}
			    	break;
			    case "lc":
			    	List<Computer> computerList = computerDao.getComputers();
					for(int i = 0; i < computerList.size(); i++){
						Computer comp = computerList.get(i);
						System.out.println(comp.toString());
					}
			    	break;
			    case "create":
			    case "c":
			    	Computer newComputer = new Computer();
			    	System.out.println("please enter a name :");
					newComputer.setName(scanIn.nextLine());		
					System.out.println("please enter id of manufacturer :");
					newComputer.setCompanyId(scanIn.nextLong());
					newComputer.setIntroduced(new Timestamp((new Date()).getTime()));
					computerDao.createComputer(newComputer);
					System.out.println(newComputer.getName() + " computer has been succesfully added to database");
			    	break;
			    case "read":
			    case "r":
			    	System.out.println("please enter a id :");
			    	System.out.println(computerDao.getComputer(scanIn.nextLong()).toString());	    	
			    	break;
			    case "update":
			    case "u":
			    	break;
			    case "delete":
			    case "d":
			    	System.out.println("please enter a id :");
			    	computerDao.deleteComputer(scanIn.nextLong());
			    	System.out.println("computer has been succesfully added to database");
			    	break;
			    case "exit":
			    case "e":
			    	exit = true;
			    	break;
			    default:
		    	    System.out.println("command not reconized");
		    	    break;
		    }
		}
		scanIn.close();            
	}
	
	public static void create(){
		
	}
	
	public static void read(){
			
	}
	
	public static void update(){
		
	}
	
	public static void delete(){
		
	}

}
